/**
 * This code was AUTOGENERATED using the Codama library.
 * Please DO NOT EDIT THIS FILE, instead use visitors
 * to add features, then rerun Codama to update it.
 *
 * @see https://github.com/codama-idl/codama
 */

import {
  isProgramError,
  type Address,
  type SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM,
  type SolanaError,
} from '@solana/kit'
import { SOLANA_STARTER_PROGRAM_ADDRESS } from '../programs'

/** CustomError: Custom error message */
export const SOLANA_STARTER_ERROR__CUSTOM_ERROR = 0x1770 // 6000
/** InvalidName: Invalid name, must be 32 characters or less. */
export const SOLANA_STARTER_ERROR__INVALID_NAME = 0x1771 // 6001
/** MaxNodesReached: Maximum number of nodes reached for this operator. */
export const SOLANA_STARTER_ERROR__MAX_NODES_REACHED = 0x1772 // 6002
/** CannotDowngrade: Cannot downgrade to a lower tier client. */
export const SOLANA_STARTER_ERROR__CANNOT_DOWNGRADE = 0x1773 // 6003
/** AlreadyAtTier: Already at this client tier. */
export const SOLANA_STARTER_ERROR__ALREADY_AT_TIER = 0x1774 // 6004
/** InsufficientTokens: Insufficient TPS tokens to upgrade. */
export const SOLANA_STARTER_ERROR__INSUFFICIENT_TOKENS = 0x1775 // 6005
/** NoYieldToHarvest: No yield to harvest yet. */
export const SOLANA_STARTER_ERROR__NO_YIELD_TO_HARVEST = 0x1776 // 6006
/** InvalidNodeIndex: Invalid node index. */
export const SOLANA_STARTER_ERROR__INVALID_NODE_INDEX = 0x1777 // 6007
/** ArithmeticOverflow: Arithmetic overflow in yield calculation. */
export const SOLANA_STARTER_ERROR__ARITHMETIC_OVERFLOW = 0x1778 // 6008
/** Unauthorized: Unauthorized: Only the operator authority can perform this action. */
export const SOLANA_STARTER_ERROR__UNAUTHORIZED = 0x1779 // 6009

export type SolanaStarterError =
  | typeof SOLANA_STARTER_ERROR__ALREADY_AT_TIER
  | typeof SOLANA_STARTER_ERROR__ARITHMETIC_OVERFLOW
  | typeof SOLANA_STARTER_ERROR__CANNOT_DOWNGRADE
  | typeof SOLANA_STARTER_ERROR__CUSTOM_ERROR
  | typeof SOLANA_STARTER_ERROR__INSUFFICIENT_TOKENS
  | typeof SOLANA_STARTER_ERROR__INVALID_NAME
  | typeof SOLANA_STARTER_ERROR__INVALID_NODE_INDEX
  | typeof SOLANA_STARTER_ERROR__MAX_NODES_REACHED
  | typeof SOLANA_STARTER_ERROR__NO_YIELD_TO_HARVEST
  | typeof SOLANA_STARTER_ERROR__UNAUTHORIZED

let solanaStarterErrorMessages: Record<SolanaStarterError, string> | undefined
if (process.env.NODE_ENV !== 'production') {
  solanaStarterErrorMessages = {
    [SOLANA_STARTER_ERROR__ALREADY_AT_TIER]: `Already at this client tier.`,
    [SOLANA_STARTER_ERROR__ARITHMETIC_OVERFLOW]: `Arithmetic overflow in yield calculation.`,
    [SOLANA_STARTER_ERROR__CANNOT_DOWNGRADE]: `Cannot downgrade to a lower tier client.`,
    [SOLANA_STARTER_ERROR__CUSTOM_ERROR]: `Custom error message`,
    [SOLANA_STARTER_ERROR__INSUFFICIENT_TOKENS]: `Insufficient TPS tokens to upgrade.`,
    [SOLANA_STARTER_ERROR__INVALID_NAME]: `Invalid name, must be 32 characters or less.`,
    [SOLANA_STARTER_ERROR__INVALID_NODE_INDEX]: `Invalid node index.`,
    [SOLANA_STARTER_ERROR__MAX_NODES_REACHED]: `Maximum number of nodes reached for this operator.`,
    [SOLANA_STARTER_ERROR__NO_YIELD_TO_HARVEST]: `No yield to harvest yet.`,
    [SOLANA_STARTER_ERROR__UNAUTHORIZED]: `Unauthorized: Only the operator authority can perform this action.`,
  }
}

export function getSolanaStarterErrorMessage(code: SolanaStarterError): string {
  if (process.env.NODE_ENV !== 'production') {
    return (solanaStarterErrorMessages as Record<SolanaStarterError, string>)[code]
  }

  return 'Error message not available in production bundles.'
}

export function isSolanaStarterError<TProgramErrorCode extends SolanaStarterError>(
  error: unknown,
  transactionMessage: {
    instructions: Record<number, { programAddress: Address }>
  },
  code?: TProgramErrorCode,
): error is SolanaError<typeof SOLANA_ERROR__INSTRUCTION_ERROR__CUSTOM> &
  Readonly<{ context: Readonly<{ code: TProgramErrorCode }> }> {
  return isProgramError<TProgramErrorCode>(error, transactionMessage, SOLANA_STARTER_PROGRAM_ADDRESS, code)
}
